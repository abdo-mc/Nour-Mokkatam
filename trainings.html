<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>التدريبات</title>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
  />
  <style>
    body {
      font-family: Arial, sans-serif;
      direction: rtl;
      padding: 20px;
      background: #f9f9f9;
    }
    .training-card {
      background: white;
      border: 1px solid #ddd;
      border-radius: 8px;
      margin-bottom: 20px;
      padding: 15px 20px;
      box-shadow: 0 2px 4px rgb(0 0 0 / 0.1);
    }
    .training-card h3 {
      margin-top: 0;
      margin-bottom: 10px;
      color: #2a7ae2;
    }
    .training-card p {
      margin: 5px 0;
      font-size: 16px;
    }
    .phone-whatsapp {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .phone-whatsapp a {
      color: #25d366;
      font-size: 20px;
      text-decoration: none;
    }
    ul {
      padding-left: 20px;
      margin-top: 5px;
    }
    li {
      margin-bottom: 5px;
      font-size: 15px;
    }
  </style>
</head>
<body>

  <h1>قائمة التدريبات</h1>

  <div id="trainings-container">
    جاري تحميل التدريبات...
  </div>

  <script>
    // دالة لإنشاء كرت تدريب
    function createTrainingCard(training) {
      const ulDays = training.days.map(day => 
        `<li><i class="fa-regular fa-clock"></i> ${day.day}: من ${day.from} إلى ${day.to}</li>`
      ).join('');

      // تحويل رقم الكابتن لنص والتأكد من إزالة الفراغات
      const coachNumber = String(training.coach || '').replace(/\s+/g, '');

      return `
        <div class="training-card">
          <h3><i class="fa-solid fa-futbol"></i> ${training.game}</h3>
          <p><strong><i class="fa-solid fa-school"></i> الأكاديمية:</strong> ${training.academy}</p>
          <p><strong><i class="fa-solid fa-money-bill-wave"></i> اشتراك اللعبة:</strong> ${training.price} جنيه</p>
          <div class="phone-whatsapp">
            <p><strong><i class="fa-solid fa-phone"></i> رقم الكابتن:</strong> ${training.coach}</p>
            <a href="https://wa.me/2${coachNumber}" target="_blank" title="تواصل واتساب">
              <i class="fa-brands fa-whatsapp"></i>
            </a>
          </div>
          <p><strong><i class="fa-solid fa-calendar-days"></i> المواعيد:</strong></p>
          <ul>${ulDays}</ul>
        </div>
      `;
    }

    // دالة لعرض التدريبات داخل الصفحة
    function renderTrainings(trainings) {
      const container = document.getElementById('trainings-container');
      if (!trainings.length) {
        container.innerHTML = '<p>لا توجد تدريبات متاحة حاليا.</p>';
        return;
      }
      const cards = trainings.map(createTrainingCard).join('');
      container.innerHTML = cards;
    }

    // جلب البيانات (مثال بسيط، افترض أن البيانات من API أو من JSON محلي)
    async function fetchTrainings() {
      try {
        // مثال: جلب بيانات وهمية
        // يمكنك تعديل الرابط ليكون API حقيقي أو ملف JSON محلي
        // const response = await fetch('trainings.json');
        // const data = await response.json();

        // بيانات وهمية للاختبار:
        const data = [
          {
            id: 1,
            academy: "أكاديمية النور",
            coach: "1234567890",
            days: [
              { day: "السبت", from: "4:00", to: "6:00" },
              { day: "الأربعاء", from: "5:00", to: "7:00" }
            ],
            price: 200,
            game: "كرة القدم"
          },
          {
            id: 2,
            academy: "أكاديمية الأبطال",
            coach: 9876543210, // رقم كابتن كـ رقم (ليست نص)
            days: [
              { day: "الأحد", from: "3:00", to: "5:00" }
            ],
            price: 250,
            game: "كرة السلة"
          }
        ];

        renderTrainings(data);

      } catch (error) {
        document.getElementById('trainings-container').innerHTML = '<p>حدث خطأ أثناء تحميل التدريبات.</p>';
        console.error(error);
      }
    }

    // نداء لتحميل التدريبات عند فتح الصفحة
    fetchTrainings();
  </script>

</body>
</html>
